<!DOCTYPE html>
<html>
  <head>
    <title>MindAR.js - Scanner Window</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar/dist/mindar-image-aframe.prod.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: black;
      }

      /* Scanner container */
      #scanner-container {
        position: relative;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* The AR scene as a small window */
      a-scene {
        width: 70vw;   /* adjust size */
        height: 70vh;  /* adjust size */
        border: 3px solid #00ffcc;
        border-radius: 12px;
        box-shadow: 0 0 25px rgba(0, 255, 200, 0.6);
        background: #111;
      }

      /* Dark overlay around scanner */
      #overlay {
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        pointer-events: none;
      }

      /* Transparent hole in the middle */
      #overlay::before {
        content: "";
        position: absolute;
        top: 15%;
        left: 15%;
        width: 70%;
        height: 70%;
        border: 3px solid #00ffcc;
        border-radius: 12px;
        box-shadow: 0 0 25px rgba(0,255,200,0.5) inset;
        background: transparent;
      }
    </style>
  </head>
  <body>
    <div id="scanner-container">
      <!-- Scanner Window -->
      <a-scene
        mindar-image="imageTargetSrc: ./targets.mind"
        color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
        embedded>
        
        <!-- Camera -->
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

        <!-- Target -->
        <a-entity mindar-image-target="targetIndex: 0">
          <a-gltf-model src="./model.glb" scale="0.5 0.5 0.5"></a-gltf-model>
        </a-entity>
      </a-scene>

      <!-- Overlay with cutout -->
      <div id="overlay"></div>
    </div>
  </body>
</html>
